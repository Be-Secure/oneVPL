<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>oneVPL++: mfxExtEncoderResetOption Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="assets/customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="assets/custom.js"></script>
</head>
<body>
<div class="mobile-nav"><i id="nav-btn"></i><a href="index.html">oneVPL++</a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname">
     <a href="index.html">
      <div id="full-name">oneVPL++</div>
    </a>
   </div>
   <div id="projectbrief">C++ API Prototype for oneVPL</div>
  <div>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structmfxExtEncoderResetOption.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structmfxExtEncoderResetOption-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mfxExtEncoderResetOption Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="mfxstructures_8h_source.html">mfxstructures.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab3234338596e6c6613ee0d68f953aded"><td class="memItemLeft" align="right" valign="top">mfxExtBuffer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmfxExtEncoderResetOption.html#ab3234338596e6c6613ee0d68f953aded">Header</a></td></tr>
<tr class="separator:ab3234338596e6c6613ee0d68f953aded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4c2c95065d33ea607d7a40d319e286"><td class="memItemLeft" align="right" valign="top">mfxU16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmfxExtEncoderResetOption.html#a2f4c2c95065d33ea607d7a40d319e286">StartNewSequence</a></td></tr>
<tr class="separator:a2f4c2c95065d33ea607d7a40d319e286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b4a7406a76d3062e577b9f876f6c78"><td class="memItemLeft" align="right" valign="top"><a id="a55b4a7406a76d3062e577b9f876f6c78"></a>
mfxU16&#160;</td><td class="memItemRight" valign="bottom"><b>reserved</b> [11]</td></tr>
<tr class="separator:a55b4a7406a76d3062e577b9f876f6c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Used to control the encoder behavior during reset. By using this structure, the application instructs the encoder to start a new coded sequence after reset or to continue encoding of the current sequence.</p>
<p>This structure is also used in mode 3 of the MFXVideoENCODE_Query function to check for reset outcome before actual reset. The application should set StartNewSequence to the required behavior and call the query function. If the query fails (see status codes below), then reset is not possible in current encoder state. If the application sets StartNewSequence to MFX_CODINGOPTION_UNKNOWN, then the query function replaces the coding option with the actual reset type: MFX_CODINGOPTION_ON if the encoder will begin a new sequence after reset or MFX_CODINGOPTION_OFF if the encoder will continue the current sequence.</p>
<p>Using this structure may cause one of the following status codes from the MFXVideoENCODE_Reset and MFXVideoENCODE_Queryfunctions:</p>
<ul>
<li>MFX_ERR_INVALID_VIDEO_PARAM If a reset is not possible. For example, the application sets StartNewSequence to off and requests resolution change.</li>
</ul>
<ul>
<li>MFX_ERR_INCOMPATIBLE_VIDEO_PARAM If the application requests change that leads to memory allocation. For example, the application sets StartNewSequence to on and requests resolution change to greater than the initialization value.</li>
</ul>
<ul>
<li>MFX_ERR_NONE If reset is possible.</li>
</ul>
<p>The following limited list of parameters can be changed without starting a new coded sequence:</p>
<ul>
<li>The bitrate parameters, TargetKbps and MaxKbps, in the mfxInfoMFX structure.</li>
</ul>
<ul>
<li>The number of slices, NumSlice, in the mfxInfoMFX structure. Number of slices should be equal to or less than the number of slices during initialization.</li>
</ul>
<ul>
<li>The number of temporal layers in the <a class="el" href="structmfxExtAvcTemporalLayers.html">mfxExtAvcTemporalLayers</a> structure. Reset should be called immediately before encoding of frame from base layer and number of reference frames should be large enough for the new temporal layers structure.</li>
</ul>
<ul>
<li>The quantization parameters, QPI, QPP and QPB, in the mfxInfoMFX structure.</li>
</ul>
<p>The application should retrieve all cached frames before calling reset. When the Query API function checks for reset outcome, it expects that this requirement be satisfied. If it is not true and there are some cached frames inside the encoder, then the query result may differ from the reset result, because the encoder may insert an IDR frame to produce valid coded sequence. </p><pre class="fragment">embed:rst
  See the :ref:`Configuration Change &lt;config-change&gt;` section for more information.</pre><dl class="section note"><dt>Note</dt><dd>Not all implementations of the encoder support this extended buffer. The application must use query mode 1 to determine if the functionality is supported. To do this, the application must attach this extended buffer to the mfxVideoParam structure and call the MFXVideoENCODE_Query function. If the function returns MFX_ERR_NONE, then the functionality is supported.</dd></dl>
<pre class="fragment">embed:rst
  See the :ref:`Streaming and Video Conferencing Features &lt;stream_vid_conf_features&gt;` section for more information.</pre> </div><h2 class="groupheader">Member Data Documentation</h2>
<a id="ab3234338596e6c6613ee0d68f953aded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3234338596e6c6613ee0d68f953aded">&#9670;&nbsp;</a></span>Header</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mfxExtBuffer mfxExtEncoderResetOption::Header</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Extension buffer header. Header.BufferId must be equal to MFX_EXTBUFF_ENCODER_RESET_OPTION. </p>

</div>
</div>
<a id="a2f4c2c95065d33ea607d7a40d319e286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f4c2c95065d33ea607d7a40d319e286">&#9670;&nbsp;</a></span>StartNewSequence</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mfxU16 mfxExtEncoderResetOption::StartNewSequence</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs encoder to start new sequence after reset. Use one of the CodingOptionValue options:</p>
<ul>
<li>MFX_CODINGOPTION_ON The encoder completely reset internal state and begins new coded sequence after reset, including insertion of IDR frame, sequence, and picture headers.</li>
</ul>
<ul>
<li>MFX_CODINGOPTION_OFF The encoder continues encoding of current coded sequence after reset, without insertion of IDR frame.</li>
</ul>
<ul>
<li>MFX_CODINGOPTION_UNKNOWN Depending on the current encoder state and changes in configuration parameters, the encoder may or may not start new coded sequence. This value is also used to query reset outcome. </li>
</ul>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/mnt/c/branch/onesource/onevpl/frameworks.media.onevpl.dispatcher/api/vpl/<a class="el" href="mfxstructures_8h_source.html">mfxstructures.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="footer">
  <script>
      $('#top').prependTo($('#side-nav'));
  </script>
  <div class="footer-wrapper">
      <hr>
      <ul class="footer-links">
          <li><p>© Copyright 2021, Intel</p></li>
      </ul>
  </div>
</div>
